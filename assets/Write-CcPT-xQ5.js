import{e as w,f as h,h as M,g as V,s as E,B as W,ab as _,k as C,o as y,r as m,i as z,_ as G,L as k,w as U,y as H,l as S,n as A,ac as q,j as p,a,ad as J,ae as K,af as Q,ag as X,c as Y,J as Z,a9 as ee,W as te,U as ae,$ as se,K as F,aa as oe,X as L,ah as ne}from"./index-BN-XhCyz.js";import{e as ie,f as re}from"./DraftEditor-DLIJY0O6.js";import{B as le}from"./BackButton-q1sLdaq6.js";import{d as N,B as R}from"./dividerClasses-DJyioZHT.js";const ce=w(h.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),de=w(h.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),D=M("MuiListItemIcon",["root","alignItemsFlexStart"]),j=M("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function ue(e){return V("MuiMenuItem",e)}const x=M("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),pe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],me=(e,t)=>{const{ownerState:s}=e;return[t.root,s.dense&&t.dense,s.divider&&t.divider,!s.disableGutters&&t.gutters]},fe=e=>{const{disabled:t,dense:s,divider:o,disableGutters:i,selected:c,classes:r}=e,l=A({root:["root",s&&"dense",t&&"disabled",!i&&"gutters",o&&"divider",c&&"selected"]},ue,r);return C({},r,l)},ge=E(W,{shouldForwardProp:e=>_(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:me})(({theme:e,ownerState:t})=>C({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${x.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:y(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${x.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:y(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${x.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:y(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:y(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${x.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${x.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${N.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${N.inset}`]:{marginLeft:52},[`& .${j.root}`]:{marginTop:0,marginBottom:0},[`& .${j.inset}`]:{paddingLeft:36},[`& .${D.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&C({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${D.root} svg`]:{fontSize:"1.25rem"}}))),be=m.forwardRef(function(t,s){const o=z({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:c="li",dense:r=!1,divider:d=!1,disableGutters:l=!1,focusVisibleClassName:f,role:g="menuitem",tabIndex:b,className:n}=o,v=G(o,pe),u=m.useContext(k),B=m.useMemo(()=>({dense:r||u.dense||!1,disableGutters:l}),[u.dense,r,l]),$=m.useRef(null);U(()=>{i&&$.current&&$.current.focus()},[i]);const T=C({},o,{dense:B.dense,divider:d,disableGutters:l}),I=fe(o),P=H($,s);let O;return o.disabled||(O=b!==void 0?b:-1),h.jsx(k.Provider,{value:B,children:h.jsx(ge,C({ref:P,role:g,tabIndex:O,component:c,focusVisibleClassName:S(I.focusVisible,f),className:S(I.root,n)},v,{ownerState:T,classes:I}))})}),ve=({id:e,name:t,label:s,opts:o,control:i,rules:c,defaultValue:r,...d})=>{const{field:{onChange:l,onBlur:f,value:g,ref:b},fieldState:{error:n}}=q({name:t,control:i,rules:c,defaultValue:r}),v={error:!!n,fullWidth:!0,...d};return p(X,{...v,children:[a(J,{id:`${e}-label`,children:s}),a(K,{labelId:`${e}-label`,id:e,label:s,value:g,onChange:l,onBlur:f,inputRef:b,children:o.map(u=>a(be,{value:u.code,children:u.name},u.code))}),n&&a(Q,{children:n.message})]})},xe=()=>Y`
    .btns {
        position: fixed;
        bottom: 2rem;
        right: 2rem;

        > * {
            margin: 0 0.3rem;

            &.isConfirm {
                width: 3em;
            }
        }
    }
`,Ce=({boardType:e})=>{const t=Z(),{mutate:s,isPending:o}=ie(e),{control:i,register:c,handleSubmit:r,formState:{isValid:d,isDirty:l}}=ee(),{loaderOn:f,loaderOff:g}=m.useContext(te);return m.useEffect(()=>{o?f():g()},[o]),p(L,{children:[a(le,{onClick:()=>t(-1)}),p("form",{onSubmit:r(n=>{s({docData:n})}),css:xe,className:"writeWrap",children:[p("div",{className:"btns",children:[a(ae,{type:"submit",className:"isConfirm",style:{width:"4rem",height:"4rem",color:"#fff"},title:"저장",disabled:!d||!l,children:a(ce,{sx:{fontSize:"2rem"}})}),a(se,{variant:"contained",color:"secondary",style:{width:"4rem",height:"4rem"},title:"취소",onClick:()=>t(-1),children:a(de,{sx:{fontSize:"2rem"}})})]}),p(R,{sx:{display:"flex",flexDirection:"column",gap:"1em"},children:[p(R,{sx:{display:"flex",flexDirection:"row",gap:"1em"},children:[a(ve,{id:"type",name:"docType",label:"카테고리",opts:F[e],variant:"filled",style:{flex:"0 0 200px"},control:i,sx:{flex:"0 0 200px"},defaultValue:F[e][1].code}),a(oe,{autoFocus:!0,id:"title",label:"제목",fullWidth:!0,variant:"filled",register:c})]}),a(ne,{name:"content",control:i,rules:{required:"내용은 필수입니다"},render:({field:n})=>a(L,{children:a(re,{initialContent:n.value,onChange:v=>n.onChange(v)})})})]})]})]})},Me=({boardType:e})=>a(Ce,{boardType:e});export{Me as Write};
